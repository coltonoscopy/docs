<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
        <script crossorigin="anonymous" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {
                    displayMath: [["\\[", "\\]"]],
                    ignoreClass: "nostem|nostem|nolatexmath",
                    inlineMath: [["\\(", "\\)"]]
                },
                asciimath2jax: {
                    delimiters: [["\\$", "\\$"]],
                    ignoreClass: "nostem|nostem|noasciimath",
                    processEnvironments: true
                }
            });
        </script>
        <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script>

            $(function() {

                // responsive embed
                // http://getbootstrap.com/components/#responsive-embed
                $('div.videoblock div.content').addClass('embed-responsive embed-responsive-16by9');
                $('div.videoblock div.content iframe').addClass('embed-responsive-item');

            });

        </script>
        <style>

            /* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }


        </style>
        <style>

            .listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #ffffff; }
.listingblock .pygments .tok-c { color: #008000 } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #0000ff } /* Keyword */
.listingblock .pygments .tok-cm { color: #008000 } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #0000ff } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #008000 } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #008000 } /* Comment.Special */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gh { font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gp { font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-kc { color: #0000ff } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #0000ff } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #0000ff } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #0000ff } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #0000ff } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #2b91af } /* Keyword.Type */
.listingblock .pygments .tok-s { color: #a31515 } /* Literal.String */
.listingblock .pygments .tok-nc { color: #2b91af } /* Name.Class */
.listingblock .pygments .tok-ow { color: #0000ff } /* Operator.Word */
.listingblock .pygments .tok-sb { color: #a31515 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #a31515 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #a31515 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #a31515 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #a31515 } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #a31515 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #a31515 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #a31515 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #a31515 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #a31515 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #a31515 } /* Literal.String.Symbol */

        </style>
        <style>

            /* http://stackoverflow.com/a/30195325 */
            ol > li:before {
                content: "";
                display: block;
                height: 1em;
            }
            ol > li > p:first-child {
                margin-top: -1em;
            }

            /* wrap inline code */
            *:not(pre) > code {
                white-space: pre-wrap;
            }
            
            /* don't wrap code blocks */
            pre, pre code {
                overflow: auto;
                white-space: pre;
                word-wrap: normal;
            }

            /* match margin-bottom of div.paragraph */
            div.stemblock div.content {
                margin-bottom: 1.25em;
            }

            /* fill page */
            table {
                width: 100%;
            }

            /* allow captions to wrap */
            .tableblock > caption {
                max-width: inherit;
                white-space: inherit;
            }

        </style>
        <title></title>
    </head>
    
        <body class="toc2 toc-left">
            <div id="header">
                <div class="toc2" id="toc">
                    <div id="toctitle">Table of Contents</div>
                    <ul class="sectlevel1">
<li><a href="#objectives">Objectives</a></li>
<li><a href="#academic-honesty">Academic Honesty</a>
<ul class="sectlevel2">
<li><a href="#reasonable">Reasonable</a></li>
<li><a href="#not-reasonable">Not Reasonable</a></li>
</ul>
</li>
<li><a href="#assessment">Assessment</a></li>
<li><a href="#getting-ready">Getting Ready</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#story-time-sup-class-footnote-a-id-_footnoteref_1-class-footnote-href-_footnote_1-title-view-footnote-1-a-sup">Story Time!<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></a></li>
<li><a href="#huff-man-huff">Huff, Man, Huff!</a></li>
<li><a href="#to-puff-a-huff">To Puff a Huff</a></li>
<li><a href="#what-to-do">What To Do</a></li>
</ul>
                </div>
            </div>
            <div id="content">
                <h1>Problem: Puff</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Questions? Feel free to head to <a href="https://www.reddit.com/r/cs50">CS50 on Reddit</a>, <a href="http://cs50.stackexchange.com">CS50 on StackExchange</a>, the <code>#cs50ap</code> channel on <a href="https://cs50x.slack.com">CS50x Slack</a> (after signing up), or the <a href="https://www.facebook.com/groups/cs50">CS50 Facebook group</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="objectives"><a class="link" href="#objectives">Objectives</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Huff and puff and blow your house in.</p>
</li>
<li>
<p>Build and traverse binary trees using pointers.</p>
</li>
<li>
<p>Compress and decompress actual files.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="academic-honesty"><a class="link" href="#academic-honesty">Academic Honesty</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This course&#8217;s philosophy on academic honesty is best stated as "be reasonable." The course recognizes that interactions with classmates and others can facilitate mastery of the course&#8217;s material. However, there remains a line between enlisting the help of another and submitting the work of another. This policy characterizes both sides of that line.</p>
</div>
<div class="paragraph">
<p>The essence of all work that you submit to this course must be your own. Collaboration on problems is not permitted (unless explicitly stated otherwise) except to the extent that you may ask classmates and others for help so long as that help does not reduce to another doing your work for you. Generally speaking, when asking for help, you may show your code or writing to others, but you may not view theirs, so long as you and they respect this policy&#8217;s other constraints. Collaboration on quizzes and tests is not permitted at all. Collaboration on the final project is permitted to the extent prescribed by its specification.</p>
</div>
<div class="paragraph">
<p>Below are the rules of thumb that (inexhaustibly) characterize acts that the course considers reasonable and not reasonable. If in doubt as to whether some act is reasonable, do not commit it until you solicit and receive approval in writing from your instructor. If a violation of this policy is suspected and confirmed, your instructor reserves the right to impose local sanctions on top of any disciplinary outcome that may include an unsatisfactory or failing grade for work submitted or for the course itself.</p>
</div>
<div class="sect2">
<h3 id="reasonable"><a class="link" href="#reasonable">Reasonable</a></h3>
<div class="ulist">
<ul>
<li>
<p>Communicating with classmates about problems in English (or some other spoken language).</p>
</li>
<li>
<p>Discussing the course&#8217;s material with others in order to understand it better.</p>
</li>
<li>
<p>Helping a classmate identify a bug in his or her code, such as by viewing, compiling, or running his or her code, even on your own computer.</p>
</li>
<li>
<p>Incorporating snippets of code that you find online or elsewhere into your own code, provided that those snippets are not themselves solutions to assigned problems and that you cite the snippets' origins.</p>
</li>
<li>
<p>Reviewing past years' quizzes, tests, and solutions thereto.</p>
</li>
<li>
<p>Sending or showing code that you&#8217;ve written to someone, possibly a classmate, so that he or she might help you identify and fix a bug.</p>
</li>
<li>
<p>Sharing snippets of your own solutions to problems online so that others might help you identify and fix a bug or other issue.</p>
</li>
<li>
<p>Turning to the web or elsewhere for instruction beyond the course&#8217;s own, for references, and for solutions to technical difficulties, but not for outright solutions to problems or your own final project.</p>
</li>
<li>
<p>Whiteboarding solutions to problems with others using diagrams or pseudocode but not actual code.</p>
</li>
<li>
<p>Working with (and even paying) a tutor to help you with the course, provided the tutor does not do your work for you.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="not-reasonable"><a class="link" href="#not-reasonable">Not Reasonable</a></h3>
<div class="ulist">
<ul>
<li>
<p>Accessing a solution to some problem prior to (re-)submitting your own.</p>
</li>
<li>
<p>Asking a classmate to see his or her solution to a problem before (re-)submitting your own.</p>
</li>
<li>
<p>Decompiling, deobfuscating, or disassembling the staff&#8217;s solutions to problems.</p>
</li>
<li>
<p>Failing to cite (as with comments) the origins of code, writing, or techniques that you discover outside of the course&#8217;s own lessons and integrate into your own work, even while respecting this policy&#8217;s other constraints.</p>
</li>
<li>
<p>Giving or showing to a classmate a solution to a problem when it is he or she, and not you, who is struggling to solve it.</p>
</li>
<li>
<p>Looking at another individual&#8217;s work during a quiz or test.</p>
</li>
<li>
<p>Paying or offering to pay an individual for work that you may submit as (part of) your own.</p>
</li>
<li>
<p>Providing or making available solutions to problems to individuals who might take this course in the future.</p>
</li>
<li>
<p>Searching for, soliciting, or viewing a quiz&#8217;s questions or answers prior to taking the quiz.</p>
</li>
<li>
<p>Searching for or soliciting outright solutions to problems online or elsewhere.</p>
</li>
<li>
<p>Splitting a problem&#8217;s workload with another individual and combining your work (unless explicitly authorized by the problem itself).</p>
</li>
<li>
<p>Submitting (after possibly modifying) the work of another individual beyond allowed snippets.</p>
</li>
<li>
<p>Submitting the same or similar work to this course that you have submitted or will submit to another.</p>
</li>
<li>
<p>Using resources during a quiz beyond those explicitly allows in the quiz&#8217;s instructions.</p>
</li>
<li>
<p>Viewing another&#8217;s solution to a problem and basing your own solution on it.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assessment"><a class="link" href="#assessment">Assessment</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your work on this problem set will be evaluated along four axes primarily.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Scope</dt>
<dd>
<p>To what extent does your code implement the features required by our specification?</p>
</dd>
<dt class="hdlist1">Correctness</dt>
<dd>
<p>To what extent is your code consistent with our specifications and free of bugs?</p>
</dd>
<dt class="hdlist1">Design</dt>
<dd>
<p>To what extent is your code written well (i.e., clearly, efficiently, elegantly, and/or logically)?</p>
</dd>
<dt class="hdlist1">Style</dt>
<dd>
<p>To what extent is your code readable (i.e., commented and indented with variables aptly named)?</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To obtain a passing grade in this course, all students must ordinarily submit all assigned problems unless granted an exception in writing by the instructor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-ready"><a class="link" href="#getting-ready">Getting Ready</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;re welcome, and encouraged, to do the following exercises so that you may better prepare yourself for this problem, but know that they are not required to be submitted.</p>
</div>
<div class="paragraph">
<p>Remember that a binary tree has nodes similar to those of a linked list, except instead of one pointer there are two: one for the left "child" and one for the right "child". Draw a boxes-and-arrows diagram of a binary tree node containing 7, where each child pointer is <code>NULL</code>.</p>
</div>
<div class="paragraph">
<p>With a linked list, we only had to store a pointer to the first node in the list in order to remember the whole list. Likewise, with trees, we only have to store a pointer to a single node in order to remember the whole tree. This node is called the "root" of the tree.</p>
</div>
<div class="paragraph">
<p>Build upon your diagram from before (or draw a new one)such that you have a boxes-and-arrows depiction of a binary tree with the value 7 inside of the root node, 3 inside of the left child node, and 9 inside of the right child node. Now, make an additional node containing 6, and set the right child pointer of the node containing 3 point to it.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s go over some terminology. We already talked about how the "root" of the tree is the top-most node in the tree, the one containing 7 in the diagram you just drew. With a pointer to the root, you can hold on to the entire tree.</p>
</div>
<div class="paragraph">
<p>The nodes at the bottom of the tree are called the "leaves". In precise terms, these are the nodes for which both child pointers are <code>NULL</code>. In the diagram described above, the nodes containing 6 and 9 are leaves.</p>
</div>
<div class="paragraph">
<p>The "height" of a tree is the number of hops you have to make to get from the root to the most distant leaf. If the tree only has one node, then we say that its height is 0. The tree you just drew has a height of 2, since you have to make two hops to get from the root to the node containing 6.</p>
</div>
<div class="paragraph">
<p>We can also talk about nodes in a tree in terms relative to the other nodes in the tree. For this, we use terminology taken from family trees: parents, children, siblings, ancestors, and descendants. Using your best instincts, answer the following questions using the diagram you just drew! Identify each node by the value it&#8217;s holding.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which node is the parent of 3?</p>
</li>
<li>
<p>How many siblings does 9 have? Name them.</p>
</li>
<li>
<p>How many ancestors does 6 have? Name them.</p>
</li>
<li>
<p>How many descendants does 7 have? Name them.</p>
</li>
<li>
<p>How many children does 3 have? Name them.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We say that a binary tree is "ordered" if for each node in the tree, all of its descendants on the left (i.e., the left child and of its children) have lesser values and all of its descendants on the right have greater values (we&#8217;ll assume that there aren&#8217;t any duplicate values in our tree). For example, the tree above is ordered, but it&#8217;s not the only possible ordered arrangement! Try to draw as many ordered trees as you can think of using the numbers 7, 3, 9, 6. How many distinct arrangements are there/ What is the height of each one?</p>
</div>
<div class="paragraph">
<p>Ordered binary trees are cool because we can search through them in a very similar way to searching over a sorted array! To do so, we start at the root and work our way down the tree, towards the leaves, checking each node&#8217;s value against the value we&#8217;re searching for. If the current node&#8217;s value is less than the value you&#8217;re looking for, you go next to the node&#8217;s right child. Otherwise, you go to the node&#8217;s left child. At some point, you&#8217;ll either find the value you&#8217;re looking for or you&#8217;ll run into a <code>NULL</code>, indicating that the value&#8217;s not in the tree.</p>
</div>
<div class="paragraph">
<p>Using the initial tree you drew above (with 7 at the root and 3 and 9 as its children, plus 6 as a child of 3), perform the following lookups. Indicate which nodes you check, in order.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>6</p>
</li>
<li>
<p>10</p>
</li>
<li>
<p>1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ok, let&#8217;s play with binary trees in C! Log into cs50.io and create a file called <code>binary_tree.c</code>. Because the file will not be submitted, feel free to save it wherever you&#8217;d like.</p>
</div>
<div class="paragraph">
<p>First, we&#8217;ll need a new type definition for binary tree node containing <code>int</code> values. Using the boilerplate <code>typedef</code> below, create a new type definition for a node in a binary tree. If stuck, refer to past problems!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c">typedef struct node
{
	// <span class="yellow-background">TODO</span>
}
node;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now declare a global <code>node*</code> variable for the root of a tree. In <code>main</code>, initialize the root and put the value 7 in it.</p>
</div>
<div class="paragraph">
<p>Create three more nodes: one containing 3, one containing 6, and one containing 9. Link them up using pointeres so that you&#8217;ve got the same tree structure as the one you&#8217;ve drew above, where 7 is at the root, 3 is the root&#8217;s left child, 9 is in the root&#8217;s right child and 6 is 3&#8217;s right child.</p>
</div>
<div class="paragraph">
<p>Now write a function called <code>contains</code> with a prototype of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-kt">bool</span> <span class="tok-nf">contains</span><span class="tok-p">(</span><span class="tok-kt">int</span> <span class="tok-n">value</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>that returns <code>true</code> if the tree pointed to by the global variable <code>root</code> contains <code>value</code> and <code>false</code> otherwise. Add some sample function calls to <code>main</code> along with some calls to <code>printf</code> to make sure your function behaves as expected!</p>
</div>
<div class="paragraph">
<p>Add some more nodes to your tree: Try adding 5, 2, and 8. Make sure your <code>contains</code> code still works as expected!</p>
</div>
<div class="paragraph">
<p>So adding nodes manually like this is a bit of a pain, eh? Fortunately, now that you&#8217;ve written <code>contains</code>, insert isn&#8217;t too much harder! Implement a function with prototype</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-kt">bool</span> <span class="tok-nf">insert</span><span class="tok-p">(</span><span class="tok-kt">int</span> <span class="tok-n">value</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>that inserts a node containing <code>value</code> into the tree pointed to by the global <code>root</code> variable. Return <code>true</code> if successful, and return <code>false</code> if you failed for some reason (e.g., lack of sufficient heap memory, value already in the tree, etc.). Try inserting 1, 4, 9, and 2 (again!) to the tree to make sure the code works as expected!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="link" href="#getting-started">Getting Started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, log into cs50.io if not already logged in and execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">update50</code></pre>
</div>
</div>
<div class="paragraph">
<p>within a terminal window to make sure your workspace is up-to-date. Then navigate your way to the chapterB directory by executing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nb">cd</span> ~/workspace/chapterB</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">wget http://docs.cs50.net/2016/ap/problems/puff/puff.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>to download a ZIP of this problem&#8217;s distro. Let&#8217;s unzip the ZIP file by executing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">unzip puff.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>and delete the ZIP file with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">rm -f puff.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you navigate into the newly created <code>puff</code> folder and execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>you should see that the directory contains ten files</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">Makefile	dump.c	forest.c	forest.h	ht.txt	huffile.c	huffile.h	tale.txt	tree.c	tree.h</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="story-time-sup-class-footnote-a-id-_footnoteref_1-class-footnote-href-_footnote_1-title-view-footnote-1-a-sup"><a class="link" href="#story-time-sup-class-footnote-a-id-_footnoteref_1-class-footnote-href-_footnote_1-title-view-footnote-1-a-sup">Story Time!<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Once upon a time when pigs spoke rhyme</em></p>
</div>
<div class="paragraph">
<p><em>And monkeys chewed tobacco,</em></p>
</div>
<div class="paragraph">
<p><em>And hens took snuff to make them tough,</em></p>
</div>
<div class="paragraph">
<p><em>And ducks went quack, quack, quack, O!</em></p>
</div>
<div class="paragraph">
<p>There was an old sow with three little pigs, and as she had not enough to keep them, she sent them out to seek their fortune. The first that went off met a man with a bundle of straw, and said to him:</p>
</div>
<div class="paragraph">
<p>"Please, man, give me that straw to build me a house."</p>
</div>
<div class="paragraph">
<p>Which the man did, and the little pig built a house with it. presently came along a wolf, and knocked at the door, and said:</p>
</div>
<div class="paragraph">
<p>"Little pig, little pig, let me come in."</p>
</div>
<div class="paragraph">
<p>To which the pig answered:</p>
</div>
<div class="paragraph">
<p>"No, no, by the hair of my chin chin chin."</p>
</div>
<div class="paragraph">
<p>"Then I&#8217;ll huff, and I&#8217;ll puff, and I&#8217;ll blow your house in."</p>
</div>
<div class="paragraph">
<p>So he huffed, and he puffed, and he blew his house in, and ate up the little pig.</p>
</div>
<div class="paragraph">
<p>The second little pig met a man with a bundle of furze, and said:</p>
</div>
<div class="paragraph">
<p>"Please, man, give me that furze to build me a house."</p>
</div>
<div class="paragraph">
<p>Which the man did, and the pig built his house. Then along came the wolf, and said:</p>
</div>
<div class="paragraph">
<p>"Little pig, little pig, let me come in."</p>
</div>
<div class="paragraph">
<p>"No, no, by the hair of my chin chin chin."</p>
</div>
<div class="paragraph">
<p>"Then I&#8217;ll huff, and I&#8217;ll puff, and I&#8217;ll blow your house in."</p>
</div>
<div class="paragraph">
<p>So he huffed, and he puffed, and he puffed, and he huffed, and at last he blew the house down, and he ate up the little pig.</p>
</div>
<div class="paragraph">
<p>The third little pig met a man with a load of bricks, and said:</p>
</div>
<div class="paragraph">
<p>"Please, man, give me those bricks to build a house with."</p>
</div>
<div class="paragraph">
<p>So the man gave him the bricks, and he built his house with them. So the wolf came, as he did to the other little pigs, and said:</p>
</div>
<div class="paragraph">
<p>"Little pig, little pig, let me come in."</p>
</div>
<div class="paragraph">
<p>"No, no, by the hair of my chin chin chin."</p>
</div>
<div class="paragraph">
<p>"Then I&#8217;ll huff, and I&#8217;ll puff, and I&#8217;ll blow your house in."</p>
</div>
<div class="paragraph">
<p>Well, he huffed, and he puffed, and he huffed and he puffed, and he puffed and huffed; but he could <em>not</em> get the house down. When he found that he could not, with all his huffing and puffing, blow the house down, he said:</p>
</div>
<div class="paragraph">
<p>"Little pig, I know where there is a nice field of turnips."</p>
</div>
<div class="paragraph">
<p>"Where?" said the little pig.</p>
</div>
<div class="paragraph">
<p>"Oh, in Mr. Smith&#8217;s Home-field, and if you will be ready tomorrow morning I will call for you, and we will go together, and get some for dinner."</p>
</div>
<div class="paragraph">
<p>"Very well," said the little pig, "I will be ready. What time do you mean to go?"</p>
</div>
<div class="paragraph">
<p>"Oh, at six o&#8217;clock."</p>
</div>
<div class="paragraph">
<p>Well, the little pig got up at five, and got the turnips before the wolf came (which he did about six) and who said:</p>
</div>
<div class="paragraph">
<p>"Little Pig, are you ready?"</p>
</div>
<div class="paragraph">
<p>The little pig said: "Ready! I have been and come back again, and got a nice potful for dinner."</p>
</div>
<div class="paragraph">
<p>The wolf felt very angry at this, but thought that he would be up to the little pig somehow or other, so he said:</p>
</div>
<div class="paragraph">
<p>"Little pig, I know where there is a nice apple-tree."</p>
</div>
<div class="paragraph">
<p>"Where?" said the pig.</p>
</div>
<div class="paragraph">
<p>"Down at Merry-garden," replied the wolf, "and if you will not deceive me I will come for you, at five o&#8217;clock tomorrow and get some apples."</p>
</div>
<div class="paragraph">
<p>Well, the little pig bustled up the next morning at four o&#8217;clock, and went off for the apples, hoping to get back before the wolf came; but he had further to go, and had to climb the tree, so that just as he was coming down from it, he saw the wolf coming, which, as you may suppose, frightened him very much. When the wolf came up he said:</p>
</div>
<div class="paragraph">
<p>"Little pig, what! Are you here before me? Are they nice apples?"</p>
</div>
<div class="paragraph">
<p>"Yes, very," said the little pig. "I will throw you down one."</p>
</div>
<div class="paragraph">
<p>And he threw it so far, that, while the wolf was gone to pick it up, the little pig jumped down and ran home. The next day the wolf came again, and said to the little pig:</p>
</div>
<div class="paragraph">
<p>"Little pig, there is a fair at Shanklin this afternoon, will you go?"</p>
</div>
<div class="paragraph">
<p>"Oh yes," said the pig, "I will go; what time shall you be ready?"</p>
</div>
<div class="paragraph">
<p>"At three," said the wolf. So the little pig went off before the time as usual, and got to the fair, and bought a butter-churn, which he was going home with, when he saw the wolf coming. Then he could not tell what to do. So he got into the churn to hide, and by so doing turned it round, and it rolled down the hill with the pig in it, which frightened the wolf so much, that he ran home without going to the fair. He went to the little pig&#8217;s house, and told him how frightened he had been by a great round thing which came down the hill past him. Then the little pig said:</p>
</div>
<div class="paragraph">
<p>"Hah, I frightened you, then. I had been to the fair and brought a butter-churn, and when I saw you, I got into it, and rolled down the hill."</p>
</div>
<div class="paragraph">
<p>Then the wolf was very angry indeed, and declared he <em>would</em> eat up the little pig, and that he would get down the chimney after him. When the little pig saw what he was about, he hung on the pot full of water, and made up a blazing fire, and, just as the wolf was coming down, took of the cover, and in fell the wolf; so the little pig put on the cover again in an instant, boiled him up, and at him for supper, and lived happy ever afterwards.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="huff-man-huff"><a class="link" href="#huff-man-huff">Huff, Man, Huff!</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Okay, enough fairy tales. Time to get to work.</p>
</div>
<div class="paragraph">
<p>The challenge ahead is to implement a program called <code>puff</code> that puffs (i.e., decompresses) files that have been huffed (i.e., Huffman-compressed) with a program that we wrote called <code>huff</code>. Let&#8217;s begin with a story of our own.</p>
</div>
<div class="paragraph">
<p>Once upon a time, there were four little pigs who lived in a four-byte ASCII file. The first little piggy was an <code>H</code>. The second little piggy was a <code>T</code>. The third little piggy was an <code>H</code>. And the fourth little piggy was a newline.</p>
</div>
<div class="paragraph">
<p>Presently came along David A. Huffman, and made a tree out of the piggies' frequencies, per the figure below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png:base64," alt="pigtree" width="320">
</div>
</div>
<div class="paragraph">
<p>In a file called <code>tale.txt</code>, finish this tale if (and only if) feeling creative.</p>
</div>
<div class="paragraph">
<p>When represented in ASCII, each of those piggies take up 8 bits on disk. But, thanks to Huffman, we can generally do better. After all, how many bits does it really take to represent any of there different characters? Just two, of course, as two bits allows us as many as 2<sup>2</sup> = 4 codes. And so could we represent, per the figure above, a newline with <code>00</code>, <code>T</code> with <code>01</code>, and <code>H</code> with <code>1</code>. Notice how, even in this tiny example, the least frequent of characters receive, by design, the longest of codes.</p>
</div>
<div class="paragraph">
<p>The catch, of course, is that you must be able to reconstruct this tree (or, more generally, recover these codes) if you wish to puff back to ASCII piggies that have been huffed. Perhaps, the simplest way to enable a program like <code>puff</code> to decompress files that have huffed is to have <code>huff</code> include in those files piggies` original frequencies. With those frequencies can <code>puff</code> then re-build the same tree that <code>huff</code> built. Of course, inclusion of this metadata does cost us some space. But, for larger inputs, that cost is more than subsumed by savings in bits.</p>
</div>
<div class="paragraph">
<p>We chose, for <code>huff</code>, to include these frequencies and more. Let&#8217;s get you started on <code>puff</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="to-puff-a-huff"><a class="link" href="#to-puff-a-huff">To Puff a Huff</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Open up <code>huffile.h</code> and spend some time looking over the code and comments therein. This file defines a "layer of abstraction" for you in order to facilitate your implementation of <code>puff</code> (and our implementation of <code>huff</code>). More technically, it defines an API (application programming interface) with which you can read (or write) Huffman-compressed files.</p>
</div>
<div class="paragraph">
<p>Ultimately, this problem set is as much about learning how to interface with someone else&#8217;s code (e.g., ours) as it is about building and traversing binary trees. After all, after CS50, you won&#8217;t always have someone to walk you through code. But what once looked like Greek should at least now look like C to you!<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>Notice that, in <code>huffile.h</code>, we have defined the following <code>struct</code> to wrap all our metadata.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-k">typedef</span> <span class="tok-k">struct</span>
<span class="tok-p">{</span>
	<span class="tok-kt">int</span> <span class="tok-n">magic</span><span class="tok-p">;</span>
	<span class="tok-kt">int</span> <span class="tok-n">frequencies</span><span class="tok-p">[</span><span class="tok-n">SYMBOLS</span><span class="tok-p">];</span>
	<span class="tok-kt">int</span> <span class="tok-n">checksum</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-n">Huffeader</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As its own name suggests (say it three times fast), this <code>struct</code> defines a header for a Huffman-compressed file (much like <code>BITMAPFILEHEADER</code> defined a header for BMPs). Before writing out bits (i.e., codes), our implementation of <code>huff</code> first writes out this header, so that your version of <code>puff</code> can read in the same and reconstruct the tree we used for huffing.</p>
</div>
<div class="paragraph">
<p>Besides symbols' frequencies, notice that this header includes some magic! Much like JPEGs begin with <code>0xffd8</code>, so have we decided (arbitrarily) that <code>huff</code>-compressed files must begin with <code>0x46465548</code>.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup> A "magic number," then, is a form of signature. We have also decided that huffed files' headers must end with a "checksum," a summation of all frequencies therein.</p>
</div>
<div class="paragraph">
<p>In other words, if, upon reading some file&#8217;s first several bytes into a <code>Huffeader</code>, <code>magic</code> is not <code>0x46465548</code> or <code>checksum</code> does not equal the sum of all values in <code>frequencies</code>, then the file was most certainly not huffed!footnote:[Of course, some non-huffed file&#8217;s first several bytes might happen to satisfy these conditions as well, in which case it could be mistaken for a huffed file. Probabilistically, that&#8217;s not too likely to happen. But it&#8217;s because of that chance that some operating systems (also) rely on files' extensions (e.g., <code>.bmp</code>) to distinguish files' types.</p>
</div>
<div class="paragraph">
<p>Take a look now at <code>hth.txt</code>, but take care not to make any changes. In that file are those four little piggies (even though the text editor might now show you the newline). Let&#8217;s blow their house down and compress them with our implementation of <code>huff</code>. Run the below to save a compressed version of <code>hth.txt</code> in a new file called <code>hth.bin</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">~cs50/chapterB/huff hth.txt hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s take a look at the huffed file&#8217;s size. Run the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">ls -l hth.txt hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ack! Per that command&#8217;s output, it seems that we have "compressed" 4 bytes to 1034! Such is the cost of that metadata for particularly small files. For larger inputs, though, it won&#8217;t be so bad.</p>
</div>
<div class="paragraph">
<p>Incidentally, <code>hth.txt</code> is considered an ASCII (or text) file because it contains ASCII codes, and <code>hth.bin</code> is a binary file because it does not. That we&#8217;ve chosen extensions of <code>.txt</code> for the former and <code>.bin</code> is just for convenience and not by requirement.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a look at the contents of <code>hth.bin</code> in hex. Run the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">xxd -g <span class="tok-m">4</span> hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scroll back on up to the start of <code>xxd</code>'s output. Take a look at this huffed file&#8217;s first four bytes! Wait a minute, talk about magic, those bytes are reversed! (And, yes, they do spell <code>HUFF</code> if you insist on interpreting those bytes as ASCII, as <code>xxd</code> does in its rightmost column. So clever we are.) Recall that a huffed file&#8217;s first four bytes were supposed to be <code>0x46465548</code>, not the reverse. So what&#8217;s going on?</p>
</div>
<div class="paragraph">
<p>It turns out that the IDE is "little endian,' whereby multi-byte primitives (like <code>int</code>) are stored with their little end (i.e. least-significant byte) first. Generally speaking, you need not worry about endianness when programming, unless you start manipulating binary files (or network connections). We mention it now so that you understand <code>xxd</code>'s output!</p>
</div>
<div class="paragraph">
<p>Notice, by the way, how many <code>0`s are in `hth.bin</code>. Of course, <code>hth.txt</code> only had three unique piggies, so most of those <code>0</code>s represent the frequencies of ASCII&#8217;s other (absent) 253 characters. But, if you look closely, scattered among all those <code>0</code>s are <code>01000000</code>, <code>02000000</code>, and <code>01000000</code> which are, of course, little-endian representations of 1, 2, and 1 (in decimal), the frequencies of newlines, <code>H</code>, and <code>T</code>, respectively, in <code>hah.txt</code>! Lower in <code>xxd</code>'s output you&#8217;ll find <code>04000000</code>, the sum (i.e., checksum) of those counts. The second-to-last byte in <code>hah.bin</code> appears to be <code>b0</code> and the very last <code>06</code>. Hm, back to those in a bit.</p>
</div>
<div class="paragraph">
<p>Next take a look now at <code>dump.c</code>. That file implements a program with which you can dump <code>huff</code>-compressed files in human-readable form. Look over its comments and code to learn how it works.</p>
</div>
<div class="paragraph">
<p>Next take a look at <code>Makefile</code>, in which we&#8217;ve defined a target for <code>dump</code> but not one for <code>puff</code>. (We&#8217;ll leave that to you.) Notice how <code>dump</code> depends not only on <code>dump.c</code> but also on other <code>.c</code> and <code>.h</code> files as well. That <code>dump.c</code> itself appears relatively simple is because we have abstracted away important,, but potentially distracting, details with APIs.</p>
</div>
<div class="paragraph">
<p>Go ahead and build <code>dump</code> with Make. (Remember how?) Then run it as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">./dump hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">! 0	- 0	<span class="tok-m">9</span> 0	E 0	Q 0	<span class="tok-o">]</span> 0	i 0	u 0
<span class="tok-err">&quot;</span> 0	. 0	: 0	F 0	R 0	^ 0	j 0	v 0
<span class="tok-c"># 0	/ 0	; 0	G 0	S 0	_ 0	k 0	w 0</span>
<span class="tok-nv">$ </span>0	<span class="tok-m">0</span> 0	&lt; 0	H 2	T 1	<span class="tok-sb">`</span> 0	l 0	x 0
% 0	<span class="tok-m">1</span> <span class="tok-nv">0</span>	<span class="tok-o">=</span> 0	I 0	U 0	a 0	m 0	y 0
<span class="tok-p">&amp;</span> 0	<span class="tok-m">2</span> 0	&gt; 0	J 0	V 0	b 0	n 0	z 0
<span class="tok-err">&#39;</span> 0	<span class="tok-m">3</span> 0	? 0	K 0	W 0	c 0	o 0	<span class="tok-o">{</span> 0
<span class="tok-o">(</span> 0	<span class="tok-m">4</span> 0	@ 0	L 0	X 0	d 0	p 0	<span class="tok-p">|</span> 0
<span class="tok-o">)</span> 0	<span class="tok-m">5</span> 0	A 0	M 0	Y 0	e 0	q 0	<span class="tok-o">}</span> 0
* 0	<span class="tok-m">6</span> 0	B 0	N 0	Z 0	f 0	r 0	~ 0
+ 0	<span class="tok-m">7</span> 0	C 0	O 0	<span class="tok-o">[</span> 0	g 0	s 0
, 0	<span class="tok-m">8</span> 0	D 0	P 0	<span class="tok-se">\ </span>0	h 0	t 0

101100</code></pre>
</div>
</div>
<div class="paragraph">
<p>Atop <code>dump</code>'s output is a table of frequencies, not for all ASCII characters but for those that display nicely in terminal windows. Notice that the frequencies of <code>H</code> and <code>T</code> are expected. (Newlines are simply not among the characters shown.)</p>
</div>
<div class="paragraph">
<p>Below that table, meanwhile, is a sequence of six bits, the compressed version of <code>hth.txt</code>! Recall, after all, that our tree told us to represent newline with <code>00</code>, <code>T</code>, with <code>01</code>, and <code>H</code> with <code>1</code>. And, so, the above indeed represents our original text!</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take one more look at this file with <code>xxd</code>, this time in binary. Try the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">xxd -b hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take a close look at <code>hah.bin</code>'s final two bytes: <code>10110000</code> and <code>00000110</code>. (You may recall these bytes as <code>b0</code> and <code>06</code> in hex.) Notice how the former is but <code>101100</code> padded with two trailing <code>0</code>s. Why these two <code>0</code>s? Well, you can write individual bytes to disk but not individual bits. Ergo, even though our implementation of <code>huff</code> only called <code>bwrite</code> six times in order to write out six bits, our API ultimately has to write out eight bits. To avoid confusion when it&#8217;s time to read those bits back in, our API employs a trick. We keep track, in a huffed file&#8217;s very last byte, of how many bits in the file&#8217;s second-to-last byte are valid so that <code>bread</code> can avoid returning trailing padding, lest you, in writing <code>puff</code>, mistake extra <code>0</code>s for encoded symbols.</p>
</div>
<div class="paragraph">
<p>If curious, take a look at <code>huffile.c</code>. As is the case with most APIs, you don&#8217;t need to understand how our API works underneath the hood in order to use the functions. After all, you&#8217;ve probably never seen the contents of <code>stdio.c</code>, but that hasn&#8217;t stopped you from using <code>printf</code>! But you should absolutely understand what you can do with our API. For that knowledge, you can rely on <code>huffile.h</code> alone.</p>
</div>
<div class="paragraph">
<p>A final stroll through some code, if we may. Recall that, to implement Huffman&#8217;s algorithm, you can begin with a "forest" of single-node trees, each of which represents a symbol and its frequency within some body of text. Iteratively can you then pick from that forest the two trees with lowest frequencies, join them as siblings with a new parents whose own frequency is the sum of its children&#8217;s, and plant that new parent in the forest. In time will this forest converge to a lone tree whose branches represent symbols' codes.</p>
</div>
<div class="paragraph">
<p>Also recall that the manner in which ties between roots with equal frequencies are broken is important to standardize, lest <code>huff</code> and <code>puff</code> build different trees. And so we have provided you not only with an API for reading (or writing) <code>Huffile</code>s but also with an API for forest management.<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup> Take a look first at <code>tree.h</code>. Notice that we have provided the following definition for trees' nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-k">typedef</span> <span class="tok-k">struct</span> <span class="tok-n">tree</span>
<span class="tok-p">{</span>
	<span class="tok-kt">char</span> <span class="tok-n">symbol</span><span class="tok-p">;</span>
	<span class="tok-kt">int</span> <span class="tok-n">frequency</span><span class="tok-p">;</span>
	<span class="tok-k">struct</span> <span class="tok-n">tree</span><span class="tok-o">*</span> <span class="tok-n">left</span><span class="tok-p">;</span>
	<span class="tok-k">struct</span> <span class="tok-n">tree</span><span class="tok-o">*</span> <span class="tok-n">right</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-n">Tree</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Rather than store symbols' frequencies as percentages (i.e., floating point values), a node, per this definition, instead stores raw counts.</p>
</div>
<div class="paragraph">
<p>As the design of <code>tree.h</code> suggests, rather than ever <code>malloc</code> a <code>Tree</code> yourself, you should instead call <code>mktree</code>, which will not only <code>malloc</code> a <code>Tree</code> for you but also initialize its members to defaults. Similarly should you never call <code>free</code> on a <code>Tree</code> but, instead, invoke <code>rmtree</code>, which will delete that <code>Tree</code>'s root for you plus all its descendants.<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</sup></p>
</div>
<div class="paragraph">
<p>Now take a look at <code>forest.h</code>. This API happens to implement a <code>Forest</code> as a linked list of <code>Plot</code>s, each of which houses a <code>Tree</code>. But you need not worry about such details, as we have abstracted them away for the sake of simplicity (and standardization). Rather than ever <code>malloc</code> or <code>free</code> a <code>Forest</code> yourself, you should instead, much like for <code>Tree</code>s, call <code>mkforest</code> or <code>reforest</code>, respectively. Moreover, rather than ever touch a <code>Forest</code>'s linked list, you should instead add <code>Tree</code>s to a <code>Forest</code> with <code>plant</code> and remove <code>Tree</code>s from a <code>Forest</code> with <code>pick</code>. Note that this API does not build Huffman&#8217;s tree for you! Rather, it maintains <code>Tree</code>'s that you yourself have planted in sorted order so that you can pick those same <code>Tree</code>s in order of increasing frequency, with the API (and not you) breaking ties when necessary.</p>
</div>
<div class="paragraph">
<p>If curious as to how this all works, take a look at <code>tree.c</code> and <code>forest.c</code>. But again, most important is that you familiarize yourself with these APIs by way of those header files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-to-do"><a class="link" href="#what-to-do">What To Do</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Implement in a file called <code>puff.c</code> a program called <code>puff</code> that decompresses huffed files! Allow us to put forth the following requirements.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your program must accept two and only two command-line arguments: the name of a file to <code>puff</code> followed by the name under which to save the puffed output. If a user does not provide such, your program should remind the user of its usage and exit, with <code>main</code> returning <code>1</code>.</p>
</li>
<li>
<p>Your program must ensure that its input is (most likely) indeed huffed by reading, with <code>hread</code>, its first bytes into a <code>Huffeader</code> and checking its magic number and checksum. If its input is not a valid huffed file, your program should inform the user accordingly and exit, with <code>main</code> returning <code>1</code>.</p>
</li>
<li>
<p>You must build Huffman&#8217;s tree using our APIs for <code>Forest</code> and <code>Tree</code>. That tree must not include nodes for symbols not appearing in the huffed file.</p>
</li>
<li>
<p>After picking two trees from a forest in order to join them as siblings with a new parent, the first tree picked should become the parent&#8217;s left child, the second the parent&#8217;s right.</p>
</li>
<li>
<p>Assume that left branches represent 0s and the right branches 1s</p>
</li>
<li>
<p>If puffing a file that contains only one unique symbol, assume the symbol&#8217;s code is just 0.</p>
</li>
<li>
<p>You  must read in bits using our API for <code>Huffile</code>s.</p>
</li>
<li>
<p>You need not ever call <code>bwrite</code> or <code>hwrite</code>, unless you&#8217;d also like to implement <code>huff</code>!</p>
</li>
<li>
<p>You must handle all possible errors gracefully by printing error messages and returning <code>1</code>; under no circumstances should we be able to crash your code.</p>
</li>
<li>
<p>You may not leak any memory. Before quitting, even upon error, your program must free any memory allocated on its heap, either with <code>free</code> or, if allocated by our APIs, with <code>hfclose</code>, <code>rmtree</code>, and/or <code>rmforest</code>.</p>
</li>
<li>
<p>You must update <code>Makefile</code> (however you see fit) with a target for <code>puff</code>. Recall, though, that a target&#8217;s second line must begin with a tab. Recall, though, that when you hit Tab in the IDE, you do not get <code>\t</code> but instead four spaces instead by default. To insert a true tab using the IDE, Go to the view tab on the top left of the IDE and uncheck <strong>Less Comfortable</strong>, if checked. Then in the lower right hand of your C file, you should see something like <strong>Spaces: 4</strong>. Click on that tab, and uncheck <strong>Soft Tabs (spaces)</strong>. Then you can hit Tab to insert <code>\t</code>. You may want to recheck the soft tabs option afterwards.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If unsure where to begin, return your attention to <code>dump.c</code>, as you can adopt its overall framework as your own. Of course, <code>dump</code> stops short of building Huffman&#8217;s tree, so there&#8217;s still work to be done!</p>
</div>
<div class="paragraph">
<p>How to determine if your code is correct? Well, certainly play with the staff&#8217;s solutions to both <code>huff</code> and <code>puff</code> in <code>~cs50/chapterB</code>, comparing our output to yours. Also use <code>ls</code> with its <code>-l</code> switch to compare files' sizes. And, rather than compare outputs visually, (e.g., with a text editor, <code>xxd</code>, <code>cat</code>, <code>more</code>, or <code>less</code>), you can use a popular Linux command called <code>diff</code>. For instance, suppose that you&#8217;ve already run the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">~cs50/chapterB/huff hth.txt hth.bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>And now you&#8217;ll like to try puffing <code>hth.bin</code> with your own version of <code>puff</code>, and so you run a command like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">./puff hth.bin puffed.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now compare <code>hth.txt</code> and `puffed.txt	` for differences by executing the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">diff hth.txt puffed.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the files are identical, then <code>diff</code> will output nothing. Otherwise it will report lines with differences.</p>
</div>
<div class="paragraph">
<p>Of course best to test <code>puff</code> with more than just <code>hth.txt</code>. Odds are, you have a whole bunch of text files within reach from the Mispellings Problem that you can huff with our <code>huff</code> and puff with your <code>puff</code>! In theory, you can huff binary files as well, even though (conceptually, at least) Huffman&#8217;s algorithm is meant for ASCII files.</p>
</div>
<div class="paragraph">
<p>And how can you chase down memory leaks? Well, you know your code best, so certainly think about where your own code might leak. Focus, in particular, on any blocks of code in which your code might return prematurely (as in the case of some error); it&#8217;s not likely sufficient to free up your heap only, say, at the very end of <code>main</code>.</p>
</div>
<div class="paragraph">
<p>But also take advantage of <code>valgrind</code>, whose job is to report memory-related mistake and, in particular, leaks. Run it with a command line like the bellow.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">valgrind ./puff hth.bin puffed.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>Admittedly, <code>valgrind</code>'s output is a bit cryptic, but keep an eye out for <code>ERROR SUMMARY</code> and, possibly, <code>LEAK SUMMARY</code>. For additional hints, run it with some optional switches, per the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">valgrind -v --leak-check<span class="tok-o">=</span>full ./puff hth.bin puffed.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>And don&#8217;t forget to use <code>gdb</code> when debugging!</p>
</div>
<div class="paragraph">
<p>Alright, off you go. HTH!</p>
</div>
<div class="paragraph">
<p>This was Puff.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. You, uh&#8230;&#8203; can skip this section if you want.
</div>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Unless you actually speak Greek.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. We say "arbitrarily", but <code>0x46465548</code> actually has meaning. What does it spell?
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. Speaking of forest management, did you know that Harvard owns a forest? Procrastinate at <a href="http://harvardforest.fas.harvard.edu/" class="bare">http://harvardforest.fas.harvard.edu/</a>
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. If familiar with, say, C++, you can think of <code>mktree</code> as a sort of constructor and <code>rmtree</code> as a sort of destructor.
</div>
</div>
            </div>
        </body>
    
</html>
