<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
        <script crossorigin="anonymous" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {
                    displayMath: [["\\[", "\\]"]],
                    ignoreClass: "nostem|nostem|nolatexmath",
                    inlineMath: [["\\(", "\\)"]]
                },
                asciimath2jax: {
                    delimiters: [["\\$", "\\$"]],
                    ignoreClass: "nostem|nostem|noasciimath",
                    processEnvironments: true
                }
            });
        </script>
        <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script>

            $(function() {

                // responsive embed
                // http://getbootstrap.com/components/#responsive-embed
                $('div.videoblock div.content').addClass('embed-responsive embed-responsive-16by9');
                $('div.videoblock div.content iframe').addClass('embed-responsive-item');

            });

        </script>
        <style>

            /* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }


        </style>
        <style>

            .listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #ffffff; }
.listingblock .pygments .tok-c { color: #008000 } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #0000ff } /* Keyword */
.listingblock .pygments .tok-cm { color: #008000 } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #0000ff } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #008000 } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #008000 } /* Comment.Special */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gh { font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gp { font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-kc { color: #0000ff } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #0000ff } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #0000ff } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #0000ff } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #0000ff } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #2b91af } /* Keyword.Type */
.listingblock .pygments .tok-s { color: #a31515 } /* Literal.String */
.listingblock .pygments .tok-nc { color: #2b91af } /* Name.Class */
.listingblock .pygments .tok-ow { color: #0000ff } /* Operator.Word */
.listingblock .pygments .tok-sb { color: #a31515 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #a31515 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #a31515 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #a31515 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #a31515 } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #a31515 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #a31515 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #a31515 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #a31515 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #a31515 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #a31515 } /* Literal.String.Symbol */

        </style>
        <style>

            /* http://stackoverflow.com/a/30195325 */
            ol > li:before {
                content: "";
                display: block;
                height: 1em;
            }
            ol > li > p:first-child {
                margin-top: -1em;
            }

            /* wrap inline code */
            *:not(pre) > code {
                white-space: pre-wrap;
            }
            
            /* don't wrap code blocks */
            pre, pre code {
                overflow: auto;
                white-space: pre;
                word-wrap: normal;
            }

            /* match margin-bottom of div.paragraph */
            div.stemblock div.content {
                margin-bottom: 1.25em;
            }

            /* fill page */
            table {
                width: 100%;
            }

            /* allow captions to wrap */
            .tableblock > caption {
                max-width: inherit;
                white-space: inherit;
            }

        </style>
        <title></title>
    </head>
    
        <body class="toc2 toc-left">
            <div id="header">
                <div class="toc2" id="toc">
                    <div id="toctitle">Table of Contents</div>
                    <ul class="sectlevel1">
<li><a href="#objectives">Objectives</a></li>
<li><a href="#academic-honesty">Academic Honesty</a>
<ul class="sectlevel2">
<li><a href="#reasonable">Reasonable</a></li>
<li><a href="#not-reasonable">Not Reasonable</a></li>
</ul>
</li>
<li><a href="#assessment">Assessment</a></li>
<li><a href="#getting-ready">Getting Ready</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#omglikewhut">OmgLikeWhut</a></li>
<li><a href="#divide-and-conquer">Divide and Conquer</a></li>
<li><a href="#such-parsing-much-wow">Such Parsing, Much Wow</a>
<ul class="sectlevel2">
<li><a href="#extract_request">extract_request</a></li>
<li><a href="#extract_headers">extract_headers</a></li>
<li><a href="#extract_query">extract_query</a></li>
<li><a href="#parse">parse</a></li>
</ul>
</li>
</ul>
                </div>
            </div>
            <div id="content">
                <h1>Problem: Server (Part 1)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Questions? Feel free to head to <a href="https://www.reddit.com/r/cs50">CS50 on Reddit</a>, <a href="http://cs50.stackexchange.com">CS50 on StackExchange</a>, the <code>#cs50ap</code> channel on <a href="https://cs50x.slack.com">CS50x Slack</a> (after signing up), or the <a href="https://www.facebook.com/groups/cs50">CS50 Facebook group</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="objectives"><a class="link" href="#objectives">Objectives</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Become familiar with HTTP.</p>
</li>
<li>
<p>Apply familiar techniques in unfamiliar contexts.</p>
</li>
<li>
<p>Transition from C to web programming</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="academic-honesty"><a class="link" href="#academic-honesty">Academic Honesty</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This course&#8217;s philosophy on academic honesty is best stated as "be reasonable." The course recognizes that interactions with classmates and others can facilitate mastery of the course&#8217;s material. However, there remains a line between enlisting the help of another and submitting the work of another. This policy characterizes both sides of that line.</p>
</div>
<div class="paragraph">
<p>The essence of all work that you submit to this course must be your own. Collaboration on problems is not permitted (unless explicitly stated otherwise) except to the extent that you may ask classmates and others for help so long as that help does not reduce to another doing your work for you. Generally speaking, when asking for help, you may show your code or writing to others, but you may not view theirs, so long as you and they respect this policy&#8217;s other constraints. Collaboration on quizzes and tests is not permitted at all. Collaboration on the final project is permitted to the extent prescribed by its specification.</p>
</div>
<div class="paragraph">
<p>Below are rules of thumb that (inexhaustively) characterize acts that the course considers reasonable and not reasonable. If in doubt as to whether some act is reasonable, do not commit it until you solicit and receive approval in writing from your instructor. If a violation of this policy is suspected and confirmed, your instructor reserves the right to impose local sanctions on top of any disciplinary outcome that may include an unsatisfactory or failing grade for work submitted or for the course itself.</p>
</div>
<div class="sect2">
<h3 id="reasonable"><a class="link" href="#reasonable">Reasonable</a></h3>
<div class="ulist">
<ul>
<li>
<p>Communicating with classmates about problems in English (or some other spoken language).</p>
</li>
<li>
<p>Discussing the course&#8217;s material with others in order to understand it better.</p>
</li>
<li>
<p>Helping a classmate identify a bug in his or her code, such as by viewing, compiling, or running his or her code, even on your own computer.</p>
</li>
<li>
<p>Incorporating snippets of code that you find online or elsewhere into your own code, provided that those snippets are not themselves solutions to assigned problems and that you cite the snippets' origins.</p>
</li>
<li>
<p>Reviewing past years' quizzes, tests, and solutions thereto.</p>
</li>
<li>
<p>Sending or showing code that you&#8217;ve written to someone, possibly a classmate, so that he or she might help you identify and fix a bug.</p>
</li>
<li>
<p>Sharing snippets of your own solutions to problems online so that others might help you identify and fix a bug or other issue.</p>
</li>
<li>
<p>Turning to the web or elsewhere for instruction beyond the course&#8217;s own, for references, and for solutions to technical difficulties, but not for outright solutions to problems or your own final project.</p>
</li>
<li>
<p>Whiteboarding solutions to problems with others using diagrams or pseudocode but not actual code.</p>
</li>
<li>
<p>Working with (and even paying) a tutor to help you with the course, provided the tutor does not do your work for you.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="not-reasonable"><a class="link" href="#not-reasonable">Not Reasonable</a></h3>
<div class="ulist">
<ul>
<li>
<p>Accessing a solution to some problem prior to (re-)submitting your own.</p>
</li>
<li>
<p>Asking a classmate to see his or her solution to a problem before (re-)submitting your own.</p>
</li>
<li>
<p>Decompiling, deobfuscating, or disassembling the staff&#8217;s solutions to problems.</p>
</li>
<li>
<p>Failing to cite (as with comments) the origins of code, writing, or techniques that you discover outside of the course&#8217;s own lessons and integrate into your own work, even while respecting this policy&#8217;s other constraints.</p>
</li>
<li>
<p>Giving or showing to a classmate a solution to a problem when it is he or she, and not you, who is struggling to solve it.</p>
</li>
<li>
<p>Looking at another individual&#8217;s work during a quiz or test.</p>
</li>
<li>
<p>Paying or offering to pay an individual for work that you may submit as (part of) your own.</p>
</li>
<li>
<p>Providing or making available solutions to problems to individuals who might take this course in the future.</p>
</li>
<li>
<p>Searching for, soliciting, or viewing a quiz&#8217;s questions or answers prior to taking the quiz.</p>
</li>
<li>
<p>Searching for or soliciting outright solutions to problems online or elsewhere.</p>
</li>
<li>
<p>Splitting a problem&#8217;s workload with another individual and combining your work (unless explicitly authorized by the problem itself).</p>
</li>
<li>
<p>Submitting (after possibly modifying) the work of another individual beyond allowed snippets.</p>
</li>
<li>
<p>Submitting the same or similar work to this course that you have submitted or will submit to another.</p>
</li>
<li>
<p>Using resources during a quiz beyond those explicitly allowed in the quiz&#8217;s instructions.</p>
</li>
<li>
<p>Viewing another&#8217;s solution to a problem and basing your own solution on it.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assessment"><a class="link" href="#assessment">Assessment</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your work on this problem set will be evaluated along four axes primarily.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Scope</dt>
<dd>
<p>To what extent does your code implement the features required by our specification?</p>
</dd>
<dt class="hdlist1">Correctness</dt>
<dd>
<p>To what extent is your code consistent with our specifications and free of bugs?</p>
</dd>
<dt class="hdlist1">Design</dt>
<dd>
<p>To what extent is your code written well (i.e., clearly, efficiently, elegantly, and/or logically)?</p>
</dd>
<dt class="hdlist1">Style</dt>
<dd>
<p>To what extent is your code readable (i.e., commented and indented with variables aptly named)?</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To obtain a passing grade in this course, all students must ordinarily submit all assigned problems unless granted an exception in writing by the instructor.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-ready"><a class="link" href="#getting-ready">Getting Ready</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, join David for a tour of HTTP, the “protocol” via which web browsers and web servers communicate.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/hU4XuBe50K4?rel=0?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Next, consider reviewing some of these examples from Week 7, via which we introduced HTML, the language in which web pages are written.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/1TgTA4o_AM8?rel=0&amp;playlist=dW4giTKrgzo?rel=0&amp;playlist=GgpyVgkW_xk,whYnf7PFZ74,s1_kxTs5GfI,qyJXI2v7N8k,DQLbgo7Rzpg" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>And also some of these examples, via which we introduced CSS, the language with which web pages can be stylized.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/TKZlfZDF8Y4?rel=0&amp;playlist=VwCSw2ts388?rel=0&amp;playlist=-7wiXVMh4XY" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Next, consider reviewing some of these examples, via which we introduced HTML forms, which we used to submit GET queries to Google.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/RQ2_TIXBo00?rel=0&amp;playlist=14jiSM4CMtY?rel=0&amp;playlist=uqsKEAAvpTA,P7oACLRGnEg,AI2nKW7_pck" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>For another perspective altogether, join Daven for a tour of HTML too. Don’t miss the bloopers at the end!</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/dM5V1epAbSs?rel=0?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Finally, join Joseph (and Rob) for a closer look at CSS.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/kg0ZOmUREwc?rel=0?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="link" href="#getting-started">Getting Started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, log into cs50.io and execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">update50</code></pre>
</div>
</div>
<div class="paragraph">
<p>within a terminal window to make sure your workspace is up-to-date.</p>
</div>
<div class="paragraph">
<p>Then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nb">cd</span> ~/workspace/chapterB</code></pre>
</div>
</div>
<div class="paragraph">
<p>at your prompt to ensure that you’re inside of <code>unit6</code> (which is inside of <code>workspace</code> which is inside of your home directory). Then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">wget http://docs.cs50.net/2016/ap/problems/server/server.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>to download this problem’s distro. Unzip the ZIP file (remember how?) and then delete the ZIP file from your <code>unit6</code> directory. Navigate into your newly-created <code>server</code> directory (remember how?) and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see that your directory contains five files and a folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">Makefile	parser.c	parser.h	pointers.c	<span class="blue">public</span>/		server.o</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">tree</code></pre>
</div>
</div>
<div class="paragraph">
<p>(which is a hierarchical, recursive variant of <code>ls</code>), and you should see that the directory contains the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">.
├── Makefile
├── public
│   ├── cat.html
│   ├── cat.jpg
│   ├── favicon.ico
│   ├── hello.html
│   ├── hello.php
│   └── <span class="tok-nb">test</span>
│       └── index.html
└── server.o</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dang it, still C. But some other stuff too!</p>
</div>
<div class="paragraph">
<p>Go ahead and take a look at <code>cat.html</code>. Pretty simple, right? Looks like it has an <code>img</code> tag, the value of whose <code>src</code> attribute is <code>cat.jpg</code>.</p>
</div>
<div class="paragraph">
<p>Next, take a look at <code>hello.html</code>. Notice how it has a <code>form</code> that’s configured to submit via GET a <code>text</code> field called <code>name</code> to <code>hello.php</code>. Make sense? IIf not, try taking another look at the <a href="https://youtu.be/RQ2_TIXBo00">walkthrough for <code>search-0.html</code></a>.</p>
</div>
<div class="paragraph">
<p>Now take a look at <code>hello.php</code>. Notice how it’s mostly HTML but inside its <code>body</code> is a bit of PHP code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="php"><span class="tok-cp">&lt;?</span><span class="tok-o">=</span> <span class="tok-nb">htmlspecialchars</span><span class="tok-p">(</span><span class="tok-nv">$_GET</span><span class="tok-p">[</span><span class="tok-nx">“name”</span><span class="tok-p">])</span> <span class="tok-cp">?&gt;</span><span class="tok-x"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>&lt;?=</code> notation just means “echo the following value here”. <code>htmlspecialchars</code>, meanwhile, is just an atrociously named function whose purpose in life is to ensure that special (even dangerous!) characters like <code>&lt;</code> are properly “escaped” as HTML “entities”. See <a href="http://php.net/manual/en/function.htmlspecialchars.php" class="bare">http://php.net/manual/en/function.htmlspecialchars.php</a> for more details if curious. Anyhow <code>$_GET</code> is a “superglobal” variable inside of which are any HTTP parameters that were passed via GET to <code>hello.php</code>. More specifically, it’s an “associative array” (i.e., hash table) with keys and values. Per that HTML form in <code>hello.html</code>, one such key should be <code>name</code>! But more on all that in a bit.</p>
</div>
<div class="paragraph">
<p>Now the fun part. Open up <code>parser.h</code> and <code>parser.c</code>.</p>
</div>
<div class="paragraph">
<p>The challenge ahead is to implement the parsing part of a web server that knows how to serve static content (i.e., files ending in <code>.html</code>, <code>.jpg</code>, et al.) and dynamic content (i.e., files ending in <code>.php</code>).</p>
</div>
<div class="paragraph">
<p>Want to try out the staff’s solution before we dive into distribution code? Execute the below to download the latest version of the staff’s solution, as the version in CS50 IDE by default is outdated. Note that the <code>O</code> in <code>-O</code> is a capitalized letter <code>O</code>, not a zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">sudo wget –O ~cs50/chapterB/server http://docs.cs50.net/2016/ap/problems/server/server
sudo chmod a+x ~cs50/chapterB/server</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then execute the below to run the staff’s implementation of <code>server</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">~cs50/chapterB/server</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see these instructions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">Usage: server <span class="tok-o">[</span>-p port<span class="tok-o">]</span> /path/to/root</code></pre>
</div>
</div>
<div class="paragraph">
<p>Looks a bit complex, but that’s just a conventional way of saying:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>This program’s name is <code>server</code>.</p>
</li>
<li>
<p>To specify a (TCP) port number on which <code>server</code> should listen for HTTP requests, include <code>-p</code> as a command-line argument, followed by (presumably) a number. The brackets imply that specifying a port is optional. (If you don’t specify, the program will default to port 8080, which is required by CS50 IDE.)</p>
</li>
<li>
<p>The last command-line argument to <code>server</code> should be the path to your server’s “root” (the directory from which files will be served).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let’s try it out. Execute the below within your own <code>~/workspace/chapterB</code> directory so that the staff’s solution uses your own copy of <code>public</code> as its root.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">~cs50/chapterB/server public</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see output like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="yellow">Using /home/Ubuntu/workspace/chapterB/public for server’s root</span>
<span class="yellow">Listening on port 8080</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Toward the top-right corner of CS50 IDE, meanwhile, you should see your workspace’s “fully qualified domain name,” an address of the form <code>ide50-username.cs50.io</code>, where <code>username</code> is your own username. Visit <code><a href="https://ide50-username.cs50.io/" class="bare">https://ide50-username.cs50.io/</a></code> (where <code>username</code> is your own username) in another tab. You should see a “directory listing” (i.e. an unordered list) of everything that’s in <code>public</code>, yes? And if you click <strong>cat.jpg</strong>, you should see a happy cat. If not, do just reach out to classmates or staff for a hand!</p>
</div>
<div class="paragraph">
<p>Incidentally, even though <code>server</code> is running on port 8080, CS50-IDE’s is “port-forwarding” port 80 (which, recall, is browsers’ default) to 8080 for you. That’s why you don’t need to specify 8080 in the URL you just visited.</p>
</div>
<div class="paragraph">
<p>Anyhow, assuming you indeed saw a happy cat in that tab, you should also see</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">GET /cat.jpg HTTP/1.1</code></pre>
</div>
</div>
<div class="paragraph">
<p>in your terminal window, which is the “request line” that your browser sent to the server (which is being outputted by <code>server</code> via <code>printf</code> for diagnostics’ sake). Below that you should see all of the headers that your browser sent to <code>server</code> followed by</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="green">HTTP/1.1 200 OK</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>which is the server’s response to the browser (which is also being outputted by <code>server</code> via <code>printf</code> for diagnostics’ sake).</p>
</div>
<div class="paragraph">
<p>Next, just like I did in that short on HTTP, open up Chrome’s developer tools, per the instructions at <a href="https://developer.chrome.com/devtools" class="bare">https://developer.chrome.com/devtools</a>. Then, once open, click the tools’ <strong>Network</strong> tab, and then, while holding down Shift, reload the page.</p>
</div>
<div class="paragraph">
<p>Not only should you see Happy Cat again, you should also see the below in your terminal window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">GET /cat.jpg HTTP/1.1
<span class="green">HTTP/1.1 200 OK</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You might also see the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">GET /favicon.ico HTTP/1.1
<span class="green">HTTP/1.1 200 OK</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What’s going on if so? Well, by convention, a lot of websites have in their root directory a <code>favicon.ico</code> file, which is just a tiny icon that’s meant to be displayed in a browser’s address bar or tab. If you do see those lines in your terminal window, that just means Chrome is guessing that your server, too , might have <code>favicon.ico</code> file, which it does!</p>
</div>
<div class="paragraph">
<p>Here’s a quick walkthrough if a demo may help.</p>
</div>
<div class="videoblock">
<div class="content">
<iframe width="960" height="540" src="https://www.youtube.com/embed/3dmp0ycKC5c?rel=0?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="paragraph">
<p>Alright, now try visiting <code><a href="https://ide50-username.cs50.io/cat.html" class="bare">https://ide50-username.cs50.io/cat.html</a></code>. (Note the <code>.html</code> instead of <code>.jpg</code> this time.) You should see Happy Cat again, possibly with a bit of margin around him (simply because of Chrome’s default CSS properties). If you look at the developer tools’ <strong>Network</strong> tab (possibly after reloading, if they weren’t still open), you should see that Chrome first requested <code>cat.html</code> followed by <code>cat.jpg</code>, since the latter, really, was specified as the value of the <code>img</code> element’s <code>src</code> attribute that we saw earlier in <code>cat.html</code>. To confirm as much, take a look at the developer tools’ <strong>Elements</strong> tab, wherein you’ll see a pretty-printed version of the HTML in <code>cat.html</code>. You can even change the HTML, but only Chrome’s in-memory copy thereof. To change the actual file, you’d need to do so in the usual way within CS50 IDE. Incidentally, you might find it interesting to tinker with the developer tools’ <strong>Styles</strong> tab, too. Even though this page doesn’t’ have any CSS of its own, you can see and change (temporarily) Chrome’s default CSS properties via that tab.</p>
</div>
<div class="paragraph">
<p>Okay, one last test. Try visiting <code><a href="https://ide50-username.cs50.io/hello.html" class="bare">https://ide50-username.cs50.io/hello.html</a></code>. Go ahead and input your name into the form and then submit it, as by clicking the button or hitting Enter. You should find yourself at a URL like <code><a href="https://ide50-username.cs50.io/hello.php?name=Alice" class="bare">https://ide50-username.cs50.io/hello.php?name=Alice</a></code> (albeit with your name, not Alice’s, unless your name is also Alice), where a personalized hello awaits! That’s what we mean by “dynamic” content. By submitting that form, you provided input (i.e., your name) to the server, which then generated output just for you. (That input was in the form of an “HTTP parameter” called <code>name</code>, the value of which was your name.) Indeed,  if you look at the page’s source code (as via the developer tools’ <strong>Elements</strong> tab), you’ll see your name embedded within the HTML! By contrast, files like <code>cat.jpg</code> and <code>cat.html</code> (and even <code>hello.html</code>) are “static” content, since they’re not dynamically generated.</p>
</div>
<div class="paragraph">
<p>Neat, eh?? Though odds are you’ll find it easier to test your own code via a command line than with a browser. So let’s show you one other technique.</p>
</div>
<div class="paragraph">
<p>Open up a second terminal window and position it alongside your first. In the first terminal window, execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">~cs50/chapterB/server public</code></pre>
</div>
</div>
<div class="paragraph">
<p>from within your <code>~/workspace/unit6</code> directory, if the server isn’t already running. Then, in the second terminal window, execute the below. (Note the <code>http://</code> this time instead of <code>https://</code>.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">curl –i http://localhost:8080/</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you haven’t used <code>curl</code> before, it’s a command-line program with which you can send HTTP requests (and more) to a server in order to see its responses. The <code>-i</code> flag tells <code>curl</code> to include responses’ HTTP headers in the output. Odds are, whilst debugging your server, you’ll find it more convenient (and revealing!) to see all of that via <code>curl</code> than by poking around Chrome’s developer tools.</p>
</div>
<div class="paragraph">
<p>Incidentally, take care not to request <code>cat.jpg</code> (or any binary file) via <code>curl</code>, else you’ll see quite a mess! (You’re about to try, aren’t you.)</p>
</div>
<div class="paragraph">
<p>Unfortunately, your server right now doesn’t have functionality… yet! If you open up <code>parser.h</code>, you’ll see declarations and descriptions for six functions, <code>error</code>, <code>extract_request</code>, <code>extract_headers</code>, <code>parse</code>, <code>extract_query</code>, and <code>respond</code>. While implementing your server, do take care to note the follow.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You may alter <code>Makefile</code></p>
</li>
<li>
<p>You may alter <code>parser.h</code>, but may not alter the declarations of any of the functions therein. Odds are, you won’t need to change <code>parser.h</code>.</p>
</li>
<li>
<p>You may alter <code>parser.c</code>, and in fact, must in order to complete the implementation of your server.</p>
</li>
<li>
<p>Do not delete the <code>server.o</code> file as that’s where most of the server’s implementation is held!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alright, ready to go?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="omglikewhut"><a class="link" href="#omglikewhut">OmgLikeWhut</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recall that HTTP messages adhere to a “grammar,” which is to say they’re formatted according to a set of rules, patterns that web servers and web browsers can parse. Consider a (simplified) grammar below, wherein any bold symbol is further defined by some other rule. Know that <code>CRLF</code> represents <code>\r\n</code>, that <code>SP</code> represents a single white space, that <code>*</code> means “zero or more” (of whatever’s in parentheses), that <code>/</code> means “or” and that square brackets mean something’s optional.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">HTTP-message	<span class="tok-o">=</span>	*start-line*
			*<span class="tok-o">(</span> *header-field* CRLF <span class="tok-o">)</span>
			CRLF
			<span class="tok-o">[</span> message-body <span class="tok-o">]</span>
start-line	<span class="tok-o">=</span>	*request-line* /  *status-line*
request-line	<span class="tok-o">=</span>	method SP *request-target* SP HTTP-version CRLF
status-line	<span class="tok-o">=</span>	HTTP-version SP status-code SP reason-phrase CRLF
header-field	<span class="tok-o">=</span>	field-name “:” field-value</code></pre>
</div>
</div>
<div class="paragraph">
<p>One important task of web servers is to parse the HTTP message to ensure the messages are “grammatically correct”.</p>
</div>
<div class="paragraph">
<p>Before we jump into coding, let’s review a old friend from our past: pointers (you’ll thank us later)! Recall that a <code>string</code> is just a <code>char*</code>, which is a pointer to single character. The program will then continue reading 1 byte (the size of a <code>char</code>) at a time until a <code>\0</code> is reached. So if we have the following string:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-kt">char</span><span class="tok-o">*</span> <span class="tok-n">word</span> <span class="tok-o">=</span> <span class="tok-err">“</span><span class="tok-n">hello</span><span class="tok-p">,</span> <span class="tok-n">world</span><span class="tok-err">”</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the <code>char*</code> pointer, word, would point to the first letter in the string, which in this case, is <code>h</code>. Let’s arbitrarily say that <code>h</code> is located in memory at location <code>0x05</code> (remember hex?). Then the <code>e</code> would be at <code>0x06</code>, the <code>l</code> at <code>0x07</code> and so on and so forth until the NULL terminator is read at <code>0x11</code>. So if we had a pointer that pointed to the NULL terminator, and the pointer, word, we can get the length of the string by subtracting the pointer, word, from the pointer that points to the NULL terminator (<code>0x11 – 0x05 = 0x0C</code> which is 12, the length of the string word). Remember, <em>all</em> strings end with a NULL terminator, even an empty string such as <code>””</code>!</p>
</div>
<div class="paragraph">
<p>Still confused? Open up <code>pointers.c</code> and take a look at the code inside. Here, we parse a sentence, <code>”hello, world”</code> to find the first and second words of the sentence. We isolate the variables, once in a char array and once using dynamically allocated memory. Note that <code>strcpy</code> copies in the <code>’\0’</code> whereas <code>strncpy</code> does not. You’re more than welcome, and in fact encouraged, to use <code>pointers.c</code> as a reference throughout this problem.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="divide-and-conquer"><a class="link" href="#divide-and-conquer">Divide and Conquer</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Feel free to divide the work in whichever manner you believe to be the most efficient, but our recommendation is for one person to take on the <code>extract_request</code>, <code>extract_headers</code>, and <code>extract_query</code>, while the other person tackles <code>parse</code>. Be sure to communicate throughout the whole coding and problem-solving process to make the problem much easier! After all, two heads are better than one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="such-parsing-much-wow"><a class="link" href="#such-parsing-much-wow">Such Parsing, Much Wow</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you try to run your version of <code>server</code>, you’ll see that it doesn’t do much at all. Now that we had that little review of pointers, your job, as a team, is to implement the parsing functionality. Let’s dive in.</p>
</div>
<div class="sect2">
<h3 id="extract_request"><a class="link" href="#extract_request">extract_request</a></h3>
<div class="paragraph">
<p>Complete the implementation of <code>extract_request</code> in such a way that the function takes the parameter <code>message</code>, which is the HTTP message, and returns the request-line.</p>
</div>
<div class="paragraph">
<p>The request-line of the message is the part of HTTP message up to and including the first <code>CRLF</code> (or <code>\r\n</code>). If no <code>CRLF</code> is found, respond to the browser with <strong>500 Internal Server Error</strong> by calling</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-n">error</span><span class="tok-p">(</span><span class="tok-mi">500</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and returning NULL. Else, if a <code>CRLF</code> is found, “extract” the request-line by dynamically allocating (remember how?) a <code>char*</code> and taking care to copy only the request-line into the new <code>char*</code>. Do take care to ensure all your strings end in a NULL terminator and not to worry about freeing your dynamically allocated memory! We take care of that for you in <code>server.o</code>.</p>
</div>
<div class="paragraph">
<p>Odds are you’ll find functions like <code>strchr</code>, <code>strstr</code>, <code>strcpy</code>, <code>strncpy</code>, <code>strncmp</code>, <code>strcmp</code>, and/or <code>strcasecmp</code> of help!</p>
</div>
</div>
<div class="sect2">
<h3 id="extract_headers"><a class="link" href="#extract_headers">extract_headers</a></h3>
<div class="paragraph">
<p>Complete the implementation of <code>extract_headers</code> in such a way that the function takes the parameter <code>content</code> and extracts the headers, responding with the interpreter’s content.</p>
</div>
<div class="paragraph">
<p>Similarly to <code>extract_request</code>, the headers are the part up to and including the first <code>CRLF CRLF</code> in <code>content</code>. If no <code>CRLF CRLF</code> is found, <code>free</code> <code>content</code>, respond to the browser with <strong>500 Internal Server Error</strong>, and stop the function by simply calling <code>return</code>.</p>
</div>
<div class="paragraph">
<p>Else, copy in the header information to a new variable, though this time the variable need not be in dynamically allocated memory since it is not being returned by the function.</p>
</div>
<div class="paragraph">
<p>Finally, call <code>respond</code> with a <code>200</code>. If you look at <code>parser.h</code>, you’ll see that <code>respond</code> takes four arguments, <code>code</code>, <code>headers</code>, <code>body</code>, and <code>length</code>, where <code>code</code> is your response code to the browser, <code>headers</code> are the headers you extracted in the function, <code>body</code> is the part of the HTTP message that comes after the headers (after the <code>CRLF CRLF</code>), and <code>length</code> is the length of the body. Odds are your call to <code>respond</code> will look something like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-n">respond</span><span class="tok-p">(</span><span class="tok-mi">200</span><span class="tok-p">,</span> <span class="tok-n">headers</span><span class="tok-p">,</span> <span class="tok-n">needle</span> <span class="tok-o">+</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-n">length</span> <span class="tok-err">–</span> <span class="tok-n">size</span> <span class="tok-n">of</span> <span class="tok-n">headers</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>headers</code> is the extracted headers and <code>needle</code> (we use the variable name needle to represent finding a needle in a haystack, wherein <code>content</code> is the haystack here) is a pointer to <code>CRLF CRLF</code>. To calculate the length of the body, calculate the size of the headers and subtract that from <code>length</code>, which was passed to <code>extract_headers</code> as an argument.</p>
</div>
<div class="paragraph">
<p>Odds are you’ll find functions like <code>strchr</code>, <code>strstr</code>, <code>strcpy</code>, <code>strncpy</code>, <code>strncmp</code>, <code>strcmp</code>, and/or <code>strcasecmp</code> of help!</p>
</div>
</div>
<div class="sect2">
<h3 id="extract_query"><a class="link" href="#extract_query">extract_query</a></h3>
<div class="paragraph">
<p>Complete the implementation of <code>extract_query</code> in such a way that the function takes in <code>target</code>, the request-target of the HTTP message, and stores the absolute path and query in <code>abs_path</code> and <code>query</code> respectively.</p>
</div>
<div class="paragraph">
<p>Per 5.3 of <a href="http://tools.ietf.org/html/rfc7230" class="bare">http://tools.ietf.org/html/rfc7230</a>, a <code>request-target</code> can take several forms, the only one of which your server needs to support is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">absolute-path <span class="tok-o">[</span> “?” query <span class="tok-o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>whereby <code>absolute-path</code> (which will not contain <code>?</code>) might optionally be followed by a <code>?</code> followed by a <code>query</code>. For example, a <code>request-target</code> may look like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">/hello.php
/hello.php?
/hello.php?q<span class="tok-o">=</span>Alice</code></pre>
</div>
</div>
<div class="paragraph">
<p>where <code>/hello.php</code> is the <code>absolute-path</code> for all three above, but the only query present in any of the three <code>request-target&#8217;s above is `q=Alice</code>. Do take note that the <code>?</code> is part of neither the <code>absolute-path</code> nor the <code>query</code>. The presence of a <code>?</code> simply indicates that there may possibly be a <code>query</code> that follows afterwards.</p>
</div>
<div class="paragraph">
<p>Per <code>target</code>, the <code>request-target</code> passed into <code>extract_query</code> as an argument, so that the <code>absolute-path</code> is stored at the address in <code>abs_path</code> and the <code>query</code> is stored at the address in <code>query</code>. If that substring is absent (even if a <code>?</code> is present), then <code>query</code> should be <code>””</code>, thereby consuming one byte, whereby <code>query[0]</code> is <code>’\0’</code>.</p>
</div>
<div class="paragraph">
<p>For instance, if <code>request-target</code> is <code>/hello.php</code> or <code>/hello.php?</code> then <code>query</code> should have a value of <code>””</code>. And if <code>request-target</code> is <code>/hello.php?q=Alice</code>, then <code>query</code> should have a value of <code>q=Alice</code>.</p>
</div>
<div class="paragraph">
<p>Odds are you’ll find functions like <code>strchr</code>, <code>strstr</code>, <code>strcpy</code>, <code>strncpy</code>, <code>strncmp</code>, <code>strcmp</code>, and/or <code>strcasecmp</code> of help!</p>
</div>
</div>
<div class="sect2">
<h3 id="parse"><a class="link" href="#parse">parse</a></h3>
<div class="paragraph">
<p>Complete the implementation of <code>parse</code> in such a way that the function parses (i.e. iterates over) <code>line</code>, ensuring that the <code>request-line</code> is “grammatically correct”.</p>
</div>
<div class="paragraph">
<p>Per 3.1.1 of <a href="http://tools.ietf.org/html/rfc7230" class="bare">http://tools.ietf.org/html/rfc7230</a>, a 	<code>request-line</code> is defined as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">method SP request-target SP HTTP-version CRLF</code></pre>
</div>
</div>
<div class="paragraph">
<p>wherein <code>SP</code> represents a single space (<code> </code>) and <code>CRLF</code> represents <code>\r\n</code>. None of <code>method</code>, <code>request-target</code>, and <code>HTTP-version</code>, meanwhile, may contain <code>SP</code>.</p>
</div>
<div class="paragraph">
<p>Parse <code>line</code> by isolating the <code>method</code>, <code>request-target</code>, <code>HTTP-version</code> and <code>CRLF</code> and storing them into separate <code>char</code> array variables, so that a variable named <code>target</code> would only hold the <code>request-target</code>.</p>
</div>
<div class="paragraph">
<p>Ensure that <code>request-line</code> (which is passed into <code>parse</code> as <code>line</code>) is consistent with the following rules. If is not, respond to the browser with the appropriate response code, by calling the <code>error</code> with the response code as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-n">error</span><span class="tok-p">(</span><span class="tok-mi">400</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>method</code> is not <code>GET</code>, respond to the browser with <strong>405 Method Not Allowed</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If <code>request-target</code> does not begin with <code>/</code>, respond to the browser with <strong>501 Not Implemented</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If <code>request-target</code> contains a <code>”</code>, respond to the browser with <strong>400 Bad Request</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If <code>HTTP-version</code> is not <code>HTTP/1.1</code>, respond to the browser with <strong>505 HTTP Version Not Supported</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If there is no <code>\r\n</code>, respond to the browser with <strong>414 Request-URI Too Long</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If there are more or fewer than two <code>SP</code>, respond to the browser with <strong>400 Bad Request</strong> and return <code>false</code>;</p>
</li>
<li>
<p>If anything else in the <code>request-line</code> is incorrectly formatted, respond to the browser with <strong>400 Bad Request</strong> and return <code>false</code>;</p>
</li>
<li>
<p>Else if everything is properly formatted, call <code>extract_query</code> and return <code>true</code> as per below</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="c"><span class="tok-n">extract_query</span><span class="tok-p">(</span><span class="tok-n">target</span><span class="tok-p">,</span> <span class="tok-n">abs_path</span><span class="tok-p">,</span> <span class="tok-n">query</span><span class="tok-p">);</span>
<span class="tok-k">return</span> <span class="tok-nb">true</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>wherein <code>target</code> is the <code>request-target</code> you extracted earlier, and <code>abs_path</code> and <code>query</code> are the arguments passed into <code>parse</code>.</p>
</div>
<div class="paragraph">
<p>Odds are you’ll find functions like <code>strchr</code>, <code>strstr</code>, <code>strcpy</code>, <code>strncpy</code>, <code>strncmp</code>, <code>strcmp</code>, and/or <code>strcasecmp</code> of help!</p>
</div>
<div class="paragraph">
<p>This was Server (Part 1).</p>
</div>
</div>
</div>
</div>
            </div>
        </body>
    
</html>
